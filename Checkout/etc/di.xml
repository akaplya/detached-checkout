<?xml version="1.0"?>
<!--
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">
    <preference for="Magento\QuoteGraphQl\Model\Resolver\CartItemTypeResolver" type="CommerceOptimizer\Checkout\Plugin\QuoteGraphQl\Model\Resolver\CartItemTypeResolver" />
    <type name="Magento\QuoteGraphQl\Model\Resolver\AddProductsToCart">
        <plugin name="pre-load-products" type="CommerceOptimizer\Checkout\Plugin\QuoteGraphQl\Model\Resolver\AddProductsToCart"/>
    </type>
    <type name="Magento\Catalog\Helper\Product">
        <plugin name="skip-saleable-check" type="CommerceOptimizer\Checkout\Plugin\Catalog\Model\Helper"/>
    </type>
    <type name="Magento\Quote\Model\Quote\Item">
        <plugin name="save-product-view" type="CommerceOptimizer\Checkout\Plugin\Quote\Model\Quote\Item"/>
    </type>
    <type name="Magento\Quote\Model\Cart\AddProductsToCart">
        <arguments>
            <argument name="productReader" xsi:type="object">CommerceOptimizer\Checkout\Plugin\Quote\Model\Cart\ProductReader</argument>
        </arguments>
    </type>
    <preference for="Magento\Quote\Model\ResourceModel\Quote\Item\Collection" type="CommerceOptimizer\Checkout\Plugin\Quote\Model\ResourceModel\Quote\Item\Collection" />

</config>
